async function payForScore() {
    try {
        const payment = await Pi.createPayment({
            amount: 1.0,
            memo: "Trust Bazaar: Unlock My Trust Score",
            metadata: { scoreType: "full_report" },
        }, {
            // STEP 1: Server Approval
            onReadyForServerApproval: function(paymentId) {
                console.log("Payment ID created:", paymentId);
                // ⚠️ NOTE: In a real app, you send this ID to YOUR server.
                // YOUR server then calls Pi API to approve it.
                log("Please approve payment in your wallet...");
            },
            // STEP 2: Blockchain Completion
            onReadyForServerCompletion: function(paymentId, txid) {
                console.log("User paid! Transaction ID:", txid);
                log("✅ Success! Score Unlocking...");
                
                // For testing, we can trigger the UI update immediately
                showTrustScore(); 
            },
            onCancel: function(paymentId) { log("Payment Cancelled."); },
            onError: function(error, payment) { log("Error: " + error.message); }
        });
    } catch (err) {
        log("Payment failed: " + err.message);
    }
}

